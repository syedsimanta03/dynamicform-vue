(function(e){function t(t){for(var s,o,n=t[0],l=t[1],c=t[2],u=0,m=[];u<n.length;u++)o=n[u],a[o]&&m.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],s=!0,n=1;n<r.length;n++){var l=r[n];0!==a[l]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var s={},a={app:0},i=[];function o(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=s,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dynamicform-vue/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var s=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mx-auto py-6",attrs:{id:"app"}},[e._m(0),r("div",{staticClass:"content"},[r("FormWizard")],1)])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("div",[r("span",{attrs:{id:"logo"}},[e._v("Liquid Gold Box")])])])}],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.wizardInProgress?r("div",{directives:[{name:"show",rawName:"v-show",value:"pending"!==e.asyncState,expression:"asyncState !== 'pending'"}]},[r("keep-alive",[r(e.currentStep,{ref:"currentStep",tag:"component",attrs:{"wizard-data":e.form},on:{updateAsyncState:e.updateAsyncState}})],1),r("div",{staticClass:"progress-bar"},[r("div",{style:"width: "+e.progress+"%;"})]),r("div",{staticClass:"buttons"},[e.currentStepNumber>1?r("button",{staticClass:"btn-outlined",on:{click:e.goBack}},[e._v("Back\n      ")]):e._e(),r("button",{staticClass:"btn",on:{click:e.nextButtonAction}},[e._v(e._s(e.isLastStep?"Complete Order":"Next"))])])],1):r("div",[r("h1",{staticClass:"title"},[e._v("Thank you!")]),r("h2",{staticClass:"subtitle"},[e._v("\n      We look forward to shipping you your first box!\n    ")]),e._m(0)]),"pending"===e.asyncState?r("div",{staticClass:"loading-wrapper"},[e._m(1)]):e._e()])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"text-center"},[r("a",{staticClass:"btn",attrs:{href:"https://www.google.com",target:"_blank"}},[e._v("Go somewhere cool!")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loader"},[r("img",{attrs:{src:"/spinner.svg",alt:""}}),r("p",[e._v("Please wait, we're hitting our servers!")])])}],l={email:"john@travolta.io",password:"123456",name:"John"},c=function(e){return new Promise(function(t,r){setTimeout(function(){e===l.email?t(!0):r("user not found")},1e3)})},d=function(e,t){return new Promise(function(r,s){console.log(e===l.email&&t===l.password),setTimeout(function(){e===l.email&&t===l.password?r({email:l.email,name:l.name}):s("supplied credentials do not match any user")},1e3)})},u=function(e){return new Promise(function(t){setTimeout(function(){return t(e)},1e3)})},m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"title"},[e._v("Coffee Plans")]),r("h2",{staticClass:"subtitle"},[e._v("\n    We travel the world to source the very best single origin coffee for you\n  ")]),r("div",{staticClass:"plans"},e._l(e.plans,function(t){return r("div",{key:t.price,staticClass:"plan",class:{"active-plan":e.selectedPlan===t},on:{click:function(r){return e.pickPlan(t)}}},[r("div",{staticClass:"weight"},[e._v("\n        "+e._s(t.weight)+"\n      ")]),r("div",{staticClass:"description"},[r("span",{staticClass:"title"},[e._v("\n            "+e._s(t.name)+"\n        ")]),r("span",{staticClass:"description"},[e._v("\n            "+e._s(t.description)+"\n        ")])]),r("div",{staticClass:"price"},[r("span",{staticClass:"dollar-sign"},[e._v("$")]),r("span",{staticClass:"number"},[e._v(e._s(t.price))])])])}),0),e.$v.selectedPlan.$error?r("div",{staticClass:"error"},[e._v("you should pick a plan to continue")]):e._e()])},f=[],p=r("b5ae"),v={data:function(){return{plans:[{price:19,weight:"250g",name:"The Single",description:"One bag of freshly roasted coffee beans delivered to your house every month"},{price:29,weight:"500g",name:"The Curious",description:"Two different types of freshly roasted coffee every month"},{price:49,weight:"1kg",name:"The Addict",description:"Two bags of two different types of freshly roasted coffee every month."}],selectedPlan:null}},validations:{selectedPlan:{required:p["required"]}},methods:{pickPlan:function(e){this.selectedPlan=e},submit:function(){var e=this;return this.$v.$touch(),new Promise(function(t,r){e.$v.$invalid?r("plan not selected"):t({plan:e.selectedPlan})})}}},h=v,g=r("2877"),_=Object(g["a"])(h,m,f,!1,null,null,null),$=_.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"title"},[e._v("Create Account")]),r("h2",{staticClass:"subtitle"},[e._v("\n    Create an account or log in to order your liquid gold subscription\n  ")]),e.loggedIn?r("div",{staticClass:"text-center"},[e._v("\n    Successfully logged in! "),r("a",{attrs:{href:"#"},on:{click:e.reset}},[e._v("Not "+e._s(e.form.name)+"?")])]):r("form",{staticClass:"form"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"form-label",attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.email.$model,expression:"$v.form.email.$model"}],staticClass:"form-control",attrs:{type:"text",disabled:e.emailCheckedInDB,placeholder:"your@email.com",id:"email"},domProps:{value:e.$v.form.email.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.email,"$model",t.target.value)}}}),e.emailCheckedInDB?r("div",{staticClass:"error info"},[r("a",{attrs:{href:"#"},on:{click:e.reset}},[e._v("Not you?")])]):e._e(),e.$v.form.email.$error&&!e.$v.form.email.required?r("div",{staticClass:"error"},[e._v("email is required")]):e._e(),e.$v.form.email.$error&&!e.$v.form.email.email?r("div",{staticClass:"error"},[e._v("email is invalid")]):e._e()]),e.emailCheckedInDB?r("div",{staticClass:"form-group"},[r("label",{staticClass:"form-label",attrs:{for:"password"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.password.$model,expression:"$v.form.password.$model"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Super Secret Password",id:"password"},domProps:{value:e.$v.form.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.password,"$model",t.target.value)}}}),e.$v.form.password.$error&&!e.$v.form.password.required?r("div",{staticClass:"error"},[e._v("password is required")]):e._e(),e.$v.form.password.$error&&!e.$v.form.password.correct?r("div",{staticClass:"error"},[e._v("password is invalid - try again")]):e._e()]):e._e(),e.emailCheckedInDB&&!e.existingUser?r("div",{staticClass:"form-group"},[r("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.name.$model,expression:"$v.form.name.$model"}],staticClass:"form-control",attrs:{type:"text",placeholder:"What should we call you?",id:"name"},domProps:{value:e.$v.form.name.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.name,"$model",t.target.value)}}}),e.$v.form.name.$error?r("div",{staticClass:"error"},[e._v("name is required")]):e._e()]):e._e()])])},C=[],y=(r("7f7f"),{data:function(){return{form:{email:null,password:null,name:null},emailCheckedInDB:!1,existingUser:!1,wrongPassword:!1}},computed:{loggedIn:function(){return this.existingUser&&this.form.name}},validations:{form:{email:{required:p["required"],email:p["email"]},password:{required:p["required"],correct:function(){return!this.wrongPassword}},name:{required:p["required"]}}},methods:{checkIfUserExists:function(){var e=this;return this.$v.form.email.$invalid?Promise.reject("email is invalid"):(this.$emit("updateAsyncState","pending"),c(this.form.email).then(function(){e.existingUser=!0,e.emailCheckedInDB=!0,e.$emit("updateAsyncState","success")}).catch(function(){e.existingUser=!1,e.emailCheckedInDB=!0,e.$emit("updateAsyncState","success")}))},login:function(){var e=this;return this.wrongPassword=!1,this.$v.form.password.$invalid?Promise.reject("password is invalid"):(this.$emit("updateAsyncState","pending"),d(this.form.email,this.form.password).then(function(t){e.form.name=t.name,e.$emit("updateAsyncState","success")}).catch(function(){e.wrongPassword=!0,e.$emit("updateAsyncState","success")}))},reset:function(){this.form.email=null,this.form.password=null,this.form.name=null,this.emailCheckedInDB=!1,this.wrongPassword=!1,this.existingUser=!1,this.$v.$reset()},submit:function(){var e,t=this;return this.emailCheckedInDB?this.existingUser&&!this.loggedIn?(this.$v.form.password.$touch(),e=this.login()):(this.$v.$touch(),e=Promise.resolve()):(this.$v.form.email.$touch(),e=this.checkIfUserExists()),new Promise(function(r,s){e.then(function(){t.$v.$invalid?s("data is not valid yet"):r({email:t.form.email,password:t.form.password,name:t.form.name})}).catch(function(e){return s(e)})})}}}),b=y,x=Object(g["a"])(b,w,C,!1,null,"3c599fc4",null),P=x.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"title"},[e._v("Delivery details")]),r("h2",{staticClass:"subtitle"},[e._v("\n    Where should we send your freshly roasted coffee beans?\n  ")]),r("form",{staticClass:"form"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"form-label",attrs:{for:"delivery_name"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.recipient.$model,expression:"$v.form.recipient.$model"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Recipients Name",id:"delivery_name"},domProps:{value:e.$v.form.recipient.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.recipient,"$model",t.target.value)}}}),e.$v.form.recipient.$error?r("div",{staticClass:"error"},[e._v("field is required")]):e._e()]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"form-label",attrs:{for:"address"}},[e._v("Address")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.address.$model,expression:"$v.form.address.$model"}],staticClass:"form-control",attrs:{placeholder:"London Street 470978 New England",rows:"3",id:"address"},domProps:{value:e.$v.form.address.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.address,"$model",t.target.value)}}}),e.$v.form.address.$error?r("div",{staticClass:"error"},[e._v("field is required")]):e._e()])])])},k=[],T={props:{wizardData:{type:Object,required:!0}},data:function(){return{form:{address:null,recipient:this.wizardData.name}}},activated:function(){this.form.recipient=this.wizardData.name},validations:{form:{address:{required:p["required"]},recipient:{required:p["required"]}}},methods:{submit:function(){var e=this;return this.$v.$touch(),new Promise(function(t,r){e.$v.$invalid?r("invalid address"):t({recipient:e.form.recipient,address:e.form.address})})}}},N=T,A=Object(g["a"])(N,S,k,!1,null,"8b83e706",null),O=A.exports,q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"title"},[e._v("Confirm your order")]),r("h2",{staticClass:"subtitle"},[e._v("\n    We're almost there!\n  ")]),r("div",{staticClass:"summary"},[r("h3",[e._v("Subscription")]),r("p",{staticClass:"description"},[e._v("\n      We'll send you carefully selected coffee every month.\n    ")]),r("div",{staticClass:"plans"},[r("div",{staticClass:"plan active-plan"},[r("div",{staticClass:"weight"},[e._v("\n          "+e._s(e.wizardData.plan.weight)+"\n        ")]),r("div",{staticClass:"description"},[r("span",{staticClass:"title"},[e._v("\n            "+e._s(e.wizardData.plan.name)+"\n          ")]),r("span",{staticClass:"description"},[e._v("\n            "+e._s(e.wizardData.plan.description)+"\n          ")])]),r("div",{staticClass:"price"},[r("span",{staticClass:"dollar-sign"},[e._v("$")]),r("span",{staticClass:"number"},[e._v(e._s(e.totalPrice))])])])]),r("h3",[e._v("\n      Level up your box\n    ")]),r("p",{staticClass:"description"},[e._v("\n      Treat yourself by leveling up your monthly box\n    ")]),r("div",{staticClass:"options"},[r("div",{staticClass:"option"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.chocolate,expression:"form.chocolate"}],attrs:{type:"checkbox",value:"chocolate",id:"chocolate"},domProps:{checked:Array.isArray(e.form.chocolate)?e._i(e.form.chocolate,"chocolate")>-1:e.form.chocolate},on:{change:function(t){var r=e.form.chocolate,s=t.target,a=!!s.checked;if(Array.isArray(r)){var i="chocolate",o=e._i(r,i);s.checked?o<0&&e.$set(e.form,"chocolate",r.concat([i])):o>-1&&e.$set(e.form,"chocolate",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(e.form,"chocolate",a)}}}),r("label",{attrs:{for:"chocolate"}},[e._v("4 pcs. Single Origin Chocolate (+$4/month)")])]),r("div",{staticClass:"option"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.otherTreat,expression:"form.otherTreat"}],attrs:{type:"checkbox",value:"chocolate",id:"other_treat"},domProps:{checked:Array.isArray(e.form.otherTreat)?e._i(e.form.otherTreat,"chocolate")>-1:e.form.otherTreat},on:{change:function(t){var r=e.form.otherTreat,s=t.target,a=!!s.checked;if(Array.isArray(r)){var i="chocolate",o=e._i(r,i);s.checked?o<0&&e.$set(e.form,"otherTreat",r.concat([i])):o>-1&&e.$set(e.form,"otherTreat",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(e.form,"otherTreat",a)}}}),r("label",{attrs:{for:"other_treat"}},[e._v("Another delicious treat (+$2/month)")])])]),r("div",{staticClass:"address"},[e._m(0),r("div",{staticClass:"w-1/3"},[r("h3",[e._v(e._s(e.wizardData.recipient))]),r("p",{staticClass:"leading-normal"},[e._v("\n          "+e._s(e.wizardData.address)+"\n        ")])])])])])},D=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-2/3"},[r("h3",[e._v("Delivery")]),r("p",{staticClass:"description"},[e._v("\n          Your first Liquid Gold Box is right around the corner\n        ")])])}],j={props:{wizardData:{type:Object,required:!0}},data:function(){return{form:{chocolate:!1,otherTreat:!1}}},computed:{totalPrice:function(){var e=this.wizardData.plan.price;return this.form.chocolate&&(e+=4),this.form.otherTreat&&(e+=2),e}},validations:{},methods:{submit:function(){return Promise.resolve({chocolate:this.form.chocolate,otherTreat:this.form.otherTreat})}}},z=j,B=Object(g["a"])(z,q,D,!1,null,"4320deef",null),I=B.exports,E={name:"FormWizard",components:{FormPlanPicker:$,FormUserDetails:P,FormAddress:O,FormReviewOrder:I},data:function(){return{currentStepNumber:1,asyncState:null,steps:["FormPlanPicker","FormUserDetails","FormAddress","FormReviewOrder"],form:{plan:null,email:null,name:null,password:null,address:null,recipient:null,chocolate:!1,otherTreat:!1}}},computed:{isLastStep:function(){return this.currentStepNumber===this.length},wizardInProgress:function(){return this.currentStepNumber<=this.length},length:function(){return this.steps.length},currentStep:function(){return this.steps[this.currentStepNumber-1]},progress:function(){return this.currentStepNumber/this.length*100}},methods:{updateAsyncState:function(e){this.asyncState=e},submitOrder:function(){var e=this;this.asyncState="pending",u(this.form).then(function(){e.asyncState="success",e.currentStepNumber++})},nextButtonAction:function(){var e=this;this.$refs.currentStep.submit().then(function(t){Object.assign(e.form,t),e.isLastStep?e.submitOrder():e.goNext()})},goBack:function(){this.currentStepNumber--},goNext:function(){this.currentStepNumber++}}},F=E,U=Object(g["a"])(F,o,n,!1,null,null,null),W=U.exports,L={name:"app",components:{FormWizard:W}},M=L,G=Object(g["a"])(M,a,i,!1,null,null,null),J=G.exports,R=r("1dce"),Y=r.n(R);s["a"].use(Y.a),s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(J)}}).$mount("#app")}});
//# sourceMappingURL=app.22d39368.js.map